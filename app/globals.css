@tailwind base;
@tailwind components;
@tailwind utilities;

:root { --font-sketch: 'Courier New', monospace; }

* { margin: 0; padding: 0; box-sizing: border-box; }

html {
  scroll-behavior: smooth;
  scrollbar-gutter: stable;
}

body {
  font-family: var(--font-sketch);
  transition: background-color 0.3s ease, color 0.3s ease;
  @apply bg-white text-black;
  background-color: #fffdf8;
  color: #0d0d0d;
  min-height: 100vh;
  overflow-y: scroll;
}
.dark body {
  background-color: #11141c;
  color: #f7f5ee;
}

.splash-lock { overflow: hidden; }

.anchor-offset { scroll-margin-top: 110px; }

.glass-header {
  position: relative;
  border-radius: 999px;
  background: radial-gradient(circle at 0% 0%, rgba(255,255,255,0.9), rgba(255,255,255,0.55))
              border-box;
  box-shadow:
    0 18px 45px rgba(15, 23, 42, 0.25),
    0 0 0 1px rgba(15, 23, 42, 0.15);
  backdrop-filter: blur(18px) saturate(140%);
}
.glass-header::before {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: inherit;
  background: radial-gradient(circle at 10% 0%, rgba(255,255,255,0.8), transparent 55%);
  opacity: 0.9;
  pointer-events: none;
}
.dark .glass-header {
  background: radial-gradient(circle at 0% 0%, rgba(30,41,59,0.95), rgba(15,23,42,0.75))
              border-box;
  box-shadow:
    0 18px 45px rgba(0,0,0,0.65),
    0 0 0 1px rgba(148, 163, 184, 0.3);
}
.dark .glass-header::before {
  background: radial-gradient(circle at 12% 0%, rgba(148, 163, 184, 0.8), transparent 55%);
}

/* Scrollbar (WebKit) */
*::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}
*::-webkit-scrollbar-track {
  background: #ffffff;
}
.dark *::-webkit-scrollbar-track {
  background: #0e0e10;
}
*::-webkit-scrollbar-thumb {
  background: #111111;
  border: 3px solid #ffffff;
  border-radius: 9999px;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.12);
}
.dark *::-webkit-scrollbar-thumb {
  background: #ffffff;
  border: 3px solid #0e0e10;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.18);
}
*::-webkit-scrollbar-thumb:hover {
  background: #000000;
}
.dark *::-webkit-scrollbar-thumb:hover {
  background: #f4f4f4;
}

/* Scrollbar (Firefox) */
:root {
  scrollbar-width: thin;
  scrollbar-color: #111111 #ffffff;
}
.dark :root {
  scrollbar-color: #ffffff #0e0e10;
}

.surface-a {
  background: #fdf7ee;
  @apply dark:bg-[#0c0d12];
}

.surface-b {
  background: #f4f0e6;
  @apply dark:bg-[#0f1219];
}

.mobile-nav {
  position: fixed;
  top: 76px;
  left: 0;
  right: 0;
  padding: 0 1rem 1rem;
  display: grid;
  transition: opacity 0.25s ease, transform 0.25s ease;
  z-index: 30;
}
.mobile-nav-card {
  border: 2px solid;
  @apply border-black dark:border-white;
  background: rgba(255,255,255,0.95);
  @apply dark:bg-black/90;
  padding: 1rem;
  border-radius: 0.75rem;
  box-shadow: 6px 6px 0 rgba(0,0,0,0.55);
}
.dark .mobile-nav-card { box-shadow: 6px 6px 0 rgba(255,255,255,0.35); }

.drawing-border {
  border: 2px solid;
  @apply border-black dark:border-white;
  position: relative;
  background: transparent;
}
.drawing-border::before {
  content: '';
  position: absolute; top: -2px; left: -2px; right: -2px; bottom: -2px;
  border: 1px dashed;
  @apply border-black dark:border-white;
  opacity: 0.3;
  pointer-events: none;
}

.sketch-underline { position: relative; display: inline-block; }
.sketch-underline::after {
  content: '';
  position: absolute; bottom: -2px; left: 0; width: 100%; height: 2px;
  @apply bg-black dark:bg-white;
  transform: skewX(-10deg);
  opacity: 0.8;
}

.hand-drawn { filter: drop-shadow(1px 1px 0px currentColor); }

.draw-line { stroke-dasharray: 1000; stroke-dashoffset: 1000; animation: draw 2s ease-in-out forwards; }

.sketch-button {
  @apply border-2 border-black dark:border-white bg-transparent px-6 py-3;
  @apply hover:bg-black hover:text-white dark:hover:bg-white dark:hover:text-black;
  transition: all 0.3s ease;
  position: relative;
  transform: rotate(-0.5deg);
}
.sketch-button:hover { transform: rotate(0.5deg); }

.sketch-nav-link {
  position: relative;
  padding: 0.5rem 0.75rem;
  font-weight: 700;
  letter-spacing: -0.01em;
  transition: transform 0.2s ease, color 0.2s ease;
}
.sketch-nav-link::after {
  content: '';
  position: absolute;
  inset: auto 0 -4px 0;
  height: 3px;
  transform: scaleX(0.3);
  transform-origin: left;
  transition: transform 0.25s ease;
  @apply bg-black dark:bg-white;
  opacity: 0.8;
}
.sketch-nav-link:hover { transform: translateY(-2px) rotate(-1deg); }
.sketch-nav-link:hover::after { transform: scaleX(1); }

.paper-texture {
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.03) 2px,
      rgba(0, 0, 0, 0.03) 4px
    );
}

.dark .paper-texture {
  background-image: 
    repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(255, 255, 255, 0.03) 2px,
      rgba(255, 255, 255, 0.03) 4px
    );
}

.section-animate {
  opacity: 0;
  transform: translateY(28px);
  transition: opacity 0.7s ease, transform 0.7s ease;
}
.section-animate.is-visible {
  opacity: 1;
  transform: translateY(0);
}

.animate-header {
  opacity: 0;
  transform: translateY(-12px);
  animation: slideDown 0.7s ease forwards;
}

.animate-fade-delay-1,
.animate-fade-delay-2,
.animate-fade-delay-3,
.animate-fade-delay-4 {
  opacity: 0;
  animation: fadeUp 0.9s ease forwards;
}
.animate-fade-delay-1 { animation-delay: 0.1s; }
.animate-fade-delay-2 { animation-delay: 0.2s; }
.animate-fade-delay-3 { animation-delay: 0.3s; }
.animate-fade-delay-4 { animation-delay: 0.4s; }

.animate-pulse-slow { animation: pulseSlow 2.8s ease-in-out infinite; }

@keyframes riseIn {
  0% { opacity: 0; transform: translateY(24px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes fadeUp {
  0% { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes slideDown {
  0% { opacity: 0; transform: translateY(-16px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes pulseSlow {
  0%, 100% { transform: scale(1); opacity: 0.9; }
  50% { transform: scale(1.1); opacity: 1; }
}

.splash-backdrop {
  position: fixed;
  inset: 0;
  display: grid;
  place-items: center;
  background: rgba(255, 255, 255, 0.94);
  background-image:
    repeating-linear-gradient(0deg, rgba(0,0,0,0.02), rgba(0,0,0,0.02) 3px, transparent 3px, transparent 6px),
    repeating-linear-gradient(90deg, rgba(0,0,0,0.02), rgba(0,0,0,0.02) 3px, transparent 3px, transparent 6px);
  backdrop-filter: blur(8px);
  transition: opacity 0.35s ease, transform 0.35s ease, visibility 0.35s ease;
  z-index: 50;
}
.dark .splash-backdrop {
  background: rgba(17, 20, 28, 0.92);
  background-image:
    repeating-linear-gradient(0deg, rgba(255,255,255,0.04), rgba(255,255,255,0.04) 3px, transparent 3px, transparent 6px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.04) 3px, transparent 3px, transparent 6px);
}
.splash-visible { visibility: visible; }
.splash-hidden { visibility: hidden; }
.splash-card {
  border: 2px solid;
  @apply border-black dark:border-white;
  padding: 1.75rem 2rem;
  border-radius: 1rem;
  background: #fffdf8;
  box-shadow: 6px 6px 0 rgba(0,0,0,0.6);
  position: relative;
  overflow: hidden;
}
.dark .splash-card { background: rgba(25, 28, 38, 0.95); box-shadow: 6px 6px 0 rgba(255,255,255,0.35); }
.splash-card::after {
  content: '';
  position: absolute;
  inset: 10px;
  border: 1px dashed;
  @apply border-black/40 dark:border-white/30;
  border-radius: 0.75rem;
}
.splash-icon {
  display: grid;
  place-items: center;
  gap: 0.4rem;
  margin-bottom: 0.75rem;
}
.splash-ring {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  border: 3px solid currentColor;
  border-top-color: transparent;
  animation: spin 1s linear infinite, pulseSlow 2.5s ease-in-out infinite;
}
.splash-dots {
  display: flex;
  gap: 0.35rem;
}
.splash-dots span {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: currentColor;
  animation: blink 1.2s infinite ease-in-out;
}
.splash-dots span:nth-child(2) { animation-delay: 0.15s; }
.splash-dots span:nth-child(3) { animation-delay: 0.3s; }
.splash-text {
  font-weight: 800;
  letter-spacing: -0.01em;
}

.paper-illustration {
  position: relative;
  width: 160px;
  height: 120px;
  margin: 0 auto 1rem auto;
}
.paper-sheet {
  position: absolute;
  inset: 12px;
  border: 2px solid currentColor;
  border-radius: 10px;
  background: linear-gradient(180deg, #fffdf8 0%, #f5f0e6 100%);
  box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
}
.dark .paper-sheet {
  background: linear-gradient(180deg, #1f2430 0%, #1a1e28 100%);
  box-shadow: 4px 4px 0 rgba(255,255,255,0.18);
}
.sheet-back { transform: rotate(-4deg) translate(-6px, -4px); opacity: 0.8; }
.sheet-front { transform: rotate(2deg) translate(4px, 4px); }

.paper-lines {
  position: absolute;
  inset: 28px 26px;
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.paper-lines span {
  display: block;
  height: 8px;
  border-radius: 9999px;
  background: currentColor;
  opacity: 0.25;
  animation: scribble 1.6s ease-in-out infinite;
}
.paper-lines span:nth-child(2) { width: 85%; animation-delay: 0.12s; }
.paper-lines span:nth-child(3) { width: 72%; animation-delay: 0.24s; }
.paper-lines span:first-child { width: 92%; }

.paper-pencil {
  position: absolute;
  bottom: 18px;
  right: 30px;
  width: 54px;
  height: 12px;
  border-radius: 9999px;
  background: linear-gradient(90deg, #f4c38a 0%, #e89d59 55%, #0f0f10 55%, #0f0f10 65%, #fefefe 65%, #fefefe 100%);
  box-shadow: 2px 2px 0 rgba(0,0,0,0.35);
  transform: rotate(-12deg);
  animation: wiggle 1s ease-in-out infinite;
}
.dark .paper-pencil {
  background: linear-gradient(90deg, #f4c38a 0%, #d9873c 55%, #f7f5ee 55%, #f7f5ee 65%, #11141c 65%, #11141c 100%);
  box-shadow: 2px 2px 0 rgba(255,255,255,0.2);
}

@keyframes scribble {
  0% { transform: translateX(-6px); opacity: 0.2; }
  50% { transform: translateX(4px); opacity: 0.35; }
  100% { transform: translateX(-6px); opacity: 0.25; }
}

@keyframes wiggle {
  0%, 100% { transform: rotate(-12deg) translateY(0); }
  50% { transform: rotate(-6deg) translateY(-2px); }
}

.splash-dots-inline {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
}
.splash-dots-inline span {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
  opacity: 0.35;
  animation: blinkInline 1.4s infinite ease-in-out;
}
.splash-dots-inline span:nth-child(2) { animation-delay: 0.15s; }
.splash-dots-inline span:nth-child(3) { animation-delay: 0.3s; }

@keyframes blinkInline {
  0%, 80%, 100% { opacity: 0.25; transform: translateY(0); }
  40% { opacity: 0.9; transform: translateY(-2px); }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

@keyframes blink {
  0%, 80%, 100% { opacity: 0.2; transform: translateY(0); }
  40% { opacity: 1; transform: translateY(-2px); }
}
